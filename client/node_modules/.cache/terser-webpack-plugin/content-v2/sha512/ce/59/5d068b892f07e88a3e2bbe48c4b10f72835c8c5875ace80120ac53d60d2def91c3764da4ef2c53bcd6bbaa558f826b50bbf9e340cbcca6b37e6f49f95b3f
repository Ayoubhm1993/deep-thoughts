{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){\"use strict\";n.r(t);var a,r,c,s,i,o,l,d,u,j,h=n(3),b=n.n(h),m=n(82),g=n.n(m),O=(n(97),n(14)),x=n(10),f=n(110),p=n(92),v=n(83),w=n(84),y=n(61),N=new(function(){function e(){Object(v.a)(this,e)}return Object(w.a)(e,[{key:\"getProfile\",value:function(){return Object(y.a)(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return Object(y.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),k=n(2),S=function(){return Object(k.jsx)(\"header\",{className:\"bg-secondary mb-4 py-2 flex-row align-center\",children:Object(k.jsxs)(\"div\",{className:\"container flex-row justify-space-between-lg justify-center align-center\",children:[Object(k.jsx)(O.b,{to:\"/\",children:Object(k.jsx)(\"h1\",{children:\"Deep Thoughts\"})}),Object(k.jsx)(\"nav\",{className:\"text-center\",children:N.loggedIn()?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.b,{to:\"/profile\",children:\"Me\"}),Object(k.jsx)(\"a\",{href:\"/\",onClick:function(e){e.preventDefault(),N.logout()},children:\"Logout\"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.b,{to:\"/login\",children:\"Login\"}),Object(k.jsx)(O.b,{to:\"/signup\",children:\"Signup\"})]})})]})})},C=function(){return Object(k.jsx)(\"footer\",{className:\"w-100 mt-auto bg-secondary p-4\",children:Object(k.jsx)(\"div\",{className:\"container\",children:\"\\xa92020 by Lernantino\"})})},_=n(19),$=n.n(_),T=n(32),I=n(31),A=n(66),B=n(16),L=n(28),W=n(20),D=n.n(W),q=D()(a||(a=Object(L.a)([\"\\n  query thoughts($username: String) {\\n    thoughts(username: $username) {\\n      _id\\n      thoughtText\\n      createdAt\\n      username\\n      reactionCount\\n      reactions {\\n        _id\\n        createdAt\\n        username\\n        reactionBody\\n      }\\n    }\\n  }\\n\"]))),Q=D()(r||(r=Object(L.a)([\"\\n  query thought($id: ID!) {\\n    thought(_id: $id) {\\n      _id\\n      thoughtText\\n      createdAt\\n      username\\n      reactionCount\\n      reactions {\\n        _id\\n        createdAt\\n        username\\n        reactionBody\\n      }\\n    }\\n  }\\n\"]))),U=D()(c||(c=Object(L.a)([\"\\n  query user($username: String!) {\\n    user(username: $username) {\\n      _id\\n      username\\n      email\\n      friendCount\\n      friends {\\n        _id\\n        username\\n      }\\n      thoughts {\\n        _id\\n        thoughtText\\n        createdAt\\n        reactionCount\\n      }\\n    }\\n  }\\n\"]))),M=D()(s||(s=Object(L.a)([\"\\n  {\\n    me {\\n      _id\\n      username\\n      email\\n      friendCount\\n      thoughts {\\n        _id\\n        thoughtText\\n        createdAt\\n        reactionCount\\n        reactions {\\n          _id\\n          createdAt\\n          reactionBody\\n          username\\n        }\\n      }\\n      friends {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),R=D()(i||(i=Object(L.a)([\"\\n  {\\n    me {\\n      _id\\n      username\\n      email\\n      friendCount\\n      friends {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),F=D()(o||(o=Object(L.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),E=D()(l||(l=Object(L.a)([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),P=D()(d||(d=Object(L.a)([\"\\n  mutation addFriend($id: ID!) {\\n    addFriend(friendId: $id) {\\n      _id\\n      username\\n      friendCount\\n      friends {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),Y=D()(u||(u=Object(L.a)([\"\\n  mutation addThought($thoughtText: String!) {\\n    addThought(thoughtText: $thoughtText) {\\n      _id\\n      thoughtText\\n      createdAt\\n      username\\n      reactionCount\\n      reactions {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),J=D()(j||(j=Object(L.a)([\"\\n  mutation addReaction($thoughtId: ID!, $reactionBody: String!) {\\n    addReaction(thoughtId: $thoughtId, reactionBody: $reactionBody) {\\n      _id\\n      reactionCount\\n      reactions {\\n        _id\\n        reactionBody\\n        createdAt\\n        username\\n      }\\n    }\\n  }\\n\"]))),z=function(){var e=Object(f.useMutation)(Y,{update:function(e,t){var n=t.data.addThought;try{var a=e.readQuery({query:q}).thoughts;e.writeQuery({query:q,data:{thoughts:[n].concat(Object(A.a)(a))}})}catch(c){console.error(c)}var r=e.readQuery({query:M}).me;e.writeQuery({query:M,data:{me:Object(I.a)(Object(I.a)({},r),{},{thoughts:[].concat(Object(A.a)(r.thoughts),[n])})}})}}),t=Object(B.a)(e,2),n=t[0],a=t[1].error,r=Object(h.useState)(\"\"),c=Object(B.a)(r,2),s=c[0],i=c[1],o=Object(h.useState)(0),l=Object(B.a)(o,2),d=l[0],u=l[1],j=function(){var e=Object(T.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,n({variables:{thoughtText:s}});case 4:i(\"\"),u(0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(\"div\",{children:[Object(k.jsxs)(\"p\",{className:\"m-0 \".concat(280===d||a?\"text-error\":\"\"),children:[\"Character Count: \",d,\"/280\",a&&Object(k.jsx)(\"span\",{className:\"ml-2\",children:\"Something went wrong...\"})]}),Object(k.jsxs)(\"form\",{className:\"flex-row justify-center justify-space-between-md align-stretch\",onSubmit:j,children:[Object(k.jsx)(\"textarea\",{placeholder:\"Here's a new thought...\",value:s,className:\"form-input col-12 col-md-9\",onChange:function(e){e.target.value.length<=280&&(i(e.target.value),u(e.target.value.length))}}),Object(k.jsx)(\"button\",{className:\"btn col-12 col-md-3\",type:\"submit\",children:\"Submit\"})]})]})},H=function(e){var t=e.thoughts,n=e.title;return t.length?Object(k.jsxs)(\"div\",{children:[Object(k.jsx)(\"h3\",{children:n}),t&&t.map((function(e){return Object(k.jsxs)(\"div\",{className:\"card mb-3\",children:[Object(k.jsxs)(\"p\",{className:\"card-header\",children:[Object(k.jsx)(O.b,{to:\"/profile/\".concat(e.username),style:{fontWeight:700},className:\"text-light\",children:e.username}),\" \",\"thought on \",e.createdAt]}),Object(k.jsx)(\"div\",{className:\"card-body\",children:Object(k.jsxs)(O.b,{to:\"/thought/\".concat(e._id),children:[Object(k.jsx)(\"p\",{children:e.thoughtText}),Object(k.jsxs)(\"p\",{className:\"mb-0\",children:[\"Reactions: \",e.reactionCount,\" || Click to\",\" \",e.reactionCount?\"see\":\"start\",\" the discussion!\"]})]})})]},e._id)}))]}):Object(k.jsx)(\"h3\",{children:\"No Thoughts Yet\"})},V=function(e){var t=e.friendCount,n=e.username,a=e.friends;return a&&a.length?Object(k.jsxs)(\"div\",{children:[Object(k.jsxs)(\"h5\",{children:[n,\"'s \",t,\" \",1===t?\"friend\":\"friends\"]}),a.map((function(e){return Object(k.jsx)(\"button\",{className:\"btn w-100 display-block mb-2\",children:Object(k.jsx)(O.b,{to:\"/profile/\".concat(e.username),children:e.username})},e._id)}))]}):Object(k.jsxs)(\"p\",{className:\"bg-dark text-light p-3\",children:[n,\", make some friends!\"]})},G=function(){var e=Object(f.useQuery)(q),t=e.loading,n=e.data,a=Object(f.useQuery)(R).data,r=(null===n||void 0===n?void 0:n.thoughts)||[],c=N.loggedIn();return Object(k.jsx)(\"main\",{children:Object(k.jsxs)(\"div\",{className:\"flex-row justify-space-between\",children:[c&&Object(k.jsx)(\"div\",{className:\"col-12 mb-3\",children:Object(k.jsx)(z,{})}),Object(k.jsx)(\"div\",{className:\"col-12 mb-3 \".concat(c&&\"col-lg-8\"),children:t?Object(k.jsx)(\"div\",{children:\"Loading...\"}):Object(k.jsx)(H,{thoughts:r,title:\"Some Feed for Thought(s)...\"})}),c&&a?Object(k.jsx)(\"div\",{className:\"col-12 col-lg-3 mb-3\",children:Object(k.jsx)(V,{username:a.me.username,friendCount:a.me.friendCount,friends:a.me.friends})}):null]})})},K=n(41),X=function(e){var t=Object(h.useState)({email:\"\",password:\"\"}),n=Object(B.a)(t,2),a=n[0],r=n[1],c=Object(f.useMutation)(F),s=Object(B.a)(c,2),i=s[0],o=s[1].error,l=function(e){var t=e.target,n=t.name,c=t.value;r(Object(I.a)(Object(I.a)({},a),{},Object(K.a)({},n,c)))},d=function(){var e=Object(T.a)($.a.mark((function e(t){var n,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(I.a)({},a)});case 4:n=e.sent,r=n.data,N.login(r.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(\"main\",{className:\"flex-row justify-center mb-4\",children:Object(k.jsx)(\"div\",{className:\"col-12 col-md-6\",children:Object(k.jsxs)(\"div\",{className:\"card\",children:[Object(k.jsx)(\"h4\",{className:\"card-header\",children:\"Login\"}),Object(k.jsxs)(\"div\",{className:\"card-body\",children:[Object(k.jsxs)(\"form\",{onSubmit:d,children:[Object(k.jsx)(\"input\",{className:\"form-input\",placeholder:\"Your email\",name:\"email\",type:\"email\",id:\"email\",value:a.email,onChange:l}),Object(k.jsx)(\"input\",{className:\"form-input\",placeholder:\"******\",name:\"password\",type:\"password\",id:\"password\",value:a.password,onChange:l}),Object(k.jsx)(\"button\",{className:\"btn d-block w-100\",type:\"submit\",children:\"Submit\"})]}),o&&Object(k.jsx)(\"div\",{children:\"Login failed\"})]})]})})})},Z=function(){return Object(k.jsx)(\"div\",{children:\"Oops, we couldn't find that page.\"})},ee=function(e){var t=e.reactions;return Object(k.jsxs)(\"div\",{className:\"card mb-3\",children:[Object(k.jsx)(\"div\",{className:\"card-header\",children:Object(k.jsx)(\"span\",{className:\"text-light\",children:\"Reactions\"})}),Object(k.jsx)(\"div\",{className:\"card-body\",children:t&&t.map((function(e){return Object(k.jsxs)(\"p\",{className:\"pill mb-3\",children:[e.reactionBody,\" \",\"// \",Object(k.jsxs)(O.b,{to:\"/profile/\".concat(e.username),style:{fontWeight:700},children:[e.username,\" on \",e.createdAt]})]},e._id)}))})]})},te=function(e){var t=e.thoughtId,n=Object(h.useState)(\"\"),a=Object(B.a)(n,2),r=a[0],c=a[1],s=Object(h.useState)(0),i=Object(B.a)(s,2),o=i[0],l=i[1],d=Object(f.useMutation)(J),u=Object(B.a)(d,2),j=u[0],b=u[1].error,m=function(){var e=Object(T.a)($.a.mark((function e(n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,j({variables:{reactionBody:r,thoughtId:t}});case 4:c(\"\"),l(0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(\"div\",{children:[Object(k.jsxs)(\"p\",{className:\"m-0 \".concat(280===o||b?\"text-error\":\"\"),children:[\"Character Count: \",o,\"/280\",b&&Object(k.jsx)(\"span\",{className:\"ml-2\",children:\"Something went wrong...\"})]}),Object(k.jsxs)(\"form\",{className:\"flex-row justify-center justify-space-between-md align-stretch\",onSubmit:m,children:[Object(k.jsx)(\"textarea\",{placeholder:\"Leave a reaction to this thought...\",value:r,className:\"form-input col-12 col-md-9\",onChange:function(e){e.target.value.length<=280&&(c(e.target.value),l(e.target.value.length))}}),Object(k.jsx)(\"button\",{className:\"btn col-12 col-md-3\",type:\"submit\",children:\"Submit\"})]}),b&&Object(k.jsx)(\"div\",{children:\"Something went wrong...\"})]})},ne=function(e){var t=Object(x.g)().id,n=Object(f.useQuery)(Q,{variables:{id:t}}),a=n.loading,r=n.data,c=(null===r||void 0===r?void 0:r.thought)||{};return a?Object(k.jsx)(\"div\",{children:\"Loading...\"}):(console.log(t),Object(k.jsxs)(\"div\",{children:[Object(k.jsxs)(\"div\",{className:\"card mb-3\",children:[Object(k.jsxs)(\"p\",{className:\"card-header\",children:[Object(k.jsx)(\"span\",{style:{fontWeight:700},className:\"text-light\",children:c.username}),\" \",\"thought on \",c.createdAt]}),Object(k.jsx)(\"div\",{className:\"card-body\",children:Object(k.jsx)(\"p\",{children:c.thoughtText})})]}),c.reactionCount>0&&Object(k.jsx)(ee,{reactions:c.reactions}),N.loggedIn()&&Object(k.jsx)(te,{thoughtId:c._id})]}))},ae=function(){var e=Object(x.g)().username,t=Object(f.useMutation)(P),n=Object(B.a)(t,1)[0],a=Object(f.useQuery)(e?U:M,{variables:{username:e}}),r=a.loading,c=a.data,s=(null===c||void 0===c?void 0:c.me)||(null===c||void 0===c?void 0:c.user)||{};if(N.loggedIn()&&N.getProfile().data.username===e)return Object(k.jsx)(x.a,{to:\"/profile\"});if(r)return Object(k.jsx)(\"div\",{children:\"Loading...\"});if(!(null===s||void 0===s?void 0:s.username))return Object(k.jsx)(\"h4\",{children:\"You need to be logged in to see this page. Use the navigation links above to sign up or log in!\"});var i=function(){var e=Object(T.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({variables:{id:s._id}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(\"div\",{children:[Object(k.jsxs)(\"div\",{className:\"flex-row mb-3\",children:[Object(k.jsxs)(\"h2\",{className:\"bg-dark text-secondary p-3 display-inline-block\",children:[\"Viewing \",e?\"\".concat(s.username,\"'s\"):\"your\",\" profile.\"]}),e&&Object(k.jsx)(\"button\",{className:\"btn ml-auto\",onClick:i,children:\"Add Friend\"})]}),Object(k.jsxs)(\"div\",{className:\"flex-row justify-space-between mb-3\",children:[Object(k.jsx)(\"div\",{className:\"col-12 mb-3 col-lg-8\",children:Object(k.jsx)(H,{thoughts:s.thoughts,title:\"\".concat(s.username,\"'s thoughts...\")})}),Object(k.jsx)(\"div\",{className:\"col-12 col-lg-3 mb-3\",children:Object(k.jsx)(V,{username:s.username,friendCount:s.friendCount,friends:s.friends})})]}),Object(k.jsx)(\"div\",{className:\"mb-3\",children:!e&&Object(k.jsx)(z,{})})]})},re=function(){var e=Object(h.useState)({username:\"\",email:\"\",password:\"\"}),t=Object(B.a)(e,2),n=t[0],a=t[1],r=Object(f.useMutation)(E),c=Object(B.a)(r,2),s=c[0],i=c[1].error,o=function(e){var t=e.target,r=t.name,c=t.value;a(Object(I.a)(Object(I.a)({},n),{},Object(K.a)({},r,c)))},l=function(){var e=Object(T.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(I.a)({},n)});case 4:a=e.sent,r=a.data,N.login(r.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(\"main\",{className:\"flex-row justify-center mb-4\",children:Object(k.jsx)(\"div\",{className:\"col-12 col-md-6\",children:Object(k.jsxs)(\"div\",{className:\"card\",children:[Object(k.jsx)(\"h4\",{className:\"card-header\",children:\"Sign Up\"}),Object(k.jsxs)(\"div\",{className:\"card-body\",children:[Object(k.jsxs)(\"form\",{onSubmit:l,children:[Object(k.jsx)(\"input\",{className:\"form-input\",placeholder:\"Your username\",name:\"username\",type:\"username\",id:\"username\",value:n.username,onChange:o}),Object(k.jsx)(\"input\",{className:\"form-input\",placeholder:\"Your email\",name:\"email\",type:\"email\",id:\"email\",value:n.email,onChange:o}),Object(k.jsx)(\"input\",{className:\"form-input\",placeholder:\"******\",name:\"password\",type:\"password\",id:\"password\",value:n.password,onChange:o}),Object(k.jsx)(\"button\",{className:\"btn d-block w-100\",type:\"submit\",children:\"Submit\"})]}),i&&Object(k.jsx)(\"div\",{children:\"Sign up failed\"})]})]})})})},ce=new p.a({request:function(e){var t=localStorage.getItem(\"id_token\");e.setContext({headers:{authorization:t?\"Bearer \".concat(t):\"\"}})},uri:\"/graphql\"});var se=function(){return Object(k.jsx)(f.ApolloProvider,{client:ce,children:Object(k.jsx)(O.a,{children:Object(k.jsxs)(\"div\",{className:\"flex-column justify-flex-start min-100-vh\",children:[Object(k.jsx)(S,{}),Object(k.jsx)(\"div\",{className:\"container\",children:Object(k.jsxs)(x.d,{children:[Object(k.jsx)(x.b,{exact:!0,path:\"/\",component:G}),Object(k.jsx)(x.b,{exact:!0,path:\"/login\",component:X}),Object(k.jsx)(x.b,{exact:!0,path:\"/signup\",component:re}),Object(k.jsx)(x.b,{exact:!0,path:\"/profile/:username?\",component:ae}),Object(k.jsx)(x.b,{exact:!0,path:\"/thought/:id\",component:ne}),Object(k.jsx)(x.b,{component:Z})]})}),Object(k.jsx)(C,{})]})})})},ie=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}g.a.render(Object(k.jsx)(b.a.StrictMode,{children:Object(k.jsx)(se,{})}),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");ie?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(n){var a=n.headers.get(\"content-type\");404===n.status||null!=a&&-1===a.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):oe(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):oe(t,e)}))}}()},97:function(e,t,n){}},[[108,1,2]]]);","name":"static/js/main.57e30c85.chunk.js","map":{"version":3,"sources":["static/js/main.57e30c85.chunk.js"],"names":["this","push","108","module","__webpack_exports__","__webpack_require__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","mutations_templateObject4","mutations_templateObject5","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","client","bundle_esm","classCallCheck","createClass","jwt_decode_esm","auth","AuthService","Object","key","value","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","jsx_runtime","components_Header","className","children","to","loggedIn","href","onClick","event","preventDefault","logout","components_Footer","regenerator","regenerator_default","asyncToGenerator","objectSpread2","toConsumableArray","slicedToArray","taggedTemplateLiteral","graphql_tag_src","graphql_tag_src_default","QUERY_THOUGHTS","QUERY_THOUGHT","QUERY_USER","QUERY_ME","QUERY_ME_BASIC","LOGIN_USER","ADD_USER","ADD_FRIEND","ADD_THOUGHT","ADD_REACTION","components_ThoughtForm","_useMutation","update","cache","_ref","addThought","data","thoughts","readQuery","query","writeQuery","concat","e","console","error","me","_useMutation2","_useState","_useState2","thoughtText","setText","_useState3","_useState4","characterCount","setCharacterCount","handleFormSubmit","_ref2","a","mark","_callee","wrap","_context","prev","next","variables","t0","stop","_x","apply","arguments","onSubmit","placeholder","onChange","target","length","type","components_ThoughtList","title","map","thought","username","style","fontWeight","createdAt","_id","reactionCount","components_FriendList","friendCount","friends","friend","pages_Home","_useQuery","loading","userData","defineProperty","pages_Login","props","email","password","formState","setFormState","login","handleChange","_event$target","name","_yield$login","sent","id","pages_NoMatch","components_ReactionList","reactions","reaction","reactionBody","components_ReactionForm","thoughtId","setBody","addReaction","pages_SingleThought","log","pages_Profile","userParam","addFriend","user","getProfile","handleClick","pages_Signup","addUser","_yield$addUser","App_client","request","operation","setContext","headers","authorization","uri","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","Service-Worker","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","97","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 108:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(3);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(82);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./node_modules/apollo-boost/lib/bundle.esm.js + 10 modules\nvar bundle_esm = __webpack_require__(92);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(83);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/jwt-decode.esm.js\nvar jwt_decode_esm = __webpack_require__(61);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:// retrieve data saved in token\nfunction getProfile(){return Object(jwt_decode_esm[\"a\" /* default */])(this.getToken());}// check if the user is still logged in\n},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();// use type coersion to check if token is NOT undefined and the token is NOT expired\nreturn!!token&&!this.isTokenExpired(token);}// check if the token has expired\n},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=Object(jwt_decode_esm[\"a\" /* default */])(token);if(decoded.exp<Date.now()/1000){return true;}else{return false;}}catch(err){return false;}}// retrieve token from localStorage\n},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}// set token to localStorage and reload page to homepage\n},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}// clear token from localStorage and force logout with reload\n},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/Header/index.js\nvar Header_Header=function Header(){var logout=function logout(event){event.preventDefault();auth.logout();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"bg-secondary mb-4 py-2 flex-row align-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container flex-row justify-space-between-lg justify-center align-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Deep Thoughts\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{className:\"text-center\",children:auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile\",children:\"Me\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})]})})]})});};/* harmony default export */ var components_Header = (Header_Header);\n// CONCATENATED MODULE: ./src/components/Footer/index.js\nvar Footer_Footer=function Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{className:\"w-100 mt-auto bg-secondary p-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:\"\\xA92020 by Lernantino\"})});};/* harmony default export */ var components_Footer = (Footer_Footer);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(19);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/src/index.js\nvar graphql_tag_src = __webpack_require__(20);\nvar graphql_tag_src_default = /*#__PURE__*/__webpack_require__.n(graphql_tag_src);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var QUERY_THOUGHTS=graphql_tag_src_default()(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query thoughts($username: String) {\\n    thoughts(username: $username) {\\n      _id\\n      thoughtText\\n      createdAt\\n      username\\n      reactionCount\\n      reactions {\\n        _id\\n        createdAt\\n        username\\n        reactionBody\\n      }\\n    }\\n  }\\n\"])));var QUERY_THOUGHT=graphql_tag_src_default()(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query thought($id: ID!) {\\n    thought(_id: $id) {\\n      _id\\n      thoughtText\\n      createdAt\\n      username\\n      reactionCount\\n      reactions {\\n        _id\\n        createdAt\\n        username\\n        reactionBody\\n      }\\n    }\\n  }\\n\"])));var QUERY_USER=graphql_tag_src_default()(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query user($username: String!) {\\n    user(username: $username) {\\n      _id\\n      username\\n      email\\n      friendCount\\n      friends {\\n        _id\\n        username\\n      }\\n      thoughts {\\n        _id\\n        thoughtText\\n        createdAt\\n        reactionCount\\n      }\\n    }\\n  }\\n\"])));var QUERY_ME=graphql_tag_src_default()(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    me {\\n      _id\\n      username\\n      email\\n      friendCount\\n      thoughts {\\n        _id\\n        thoughtText\\n        createdAt\\n        reactionCount\\n        reactions {\\n          _id\\n          createdAt\\n          reactionBody\\n          username\\n        }\\n      }\\n      friends {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));var QUERY_ME_BASIC=graphql_tag_src_default()(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    me {\\n      _id\\n      username\\n      email\\n      friendCount\\n      friends {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar mutations_templateObject,mutations_templateObject2,mutations_templateObject3,mutations_templateObject4,mutations_templateObject5;var LOGIN_USER=graphql_tag_src_default()(mutations_templateObject||(mutations_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=graphql_tag_src_default()(mutations_templateObject2||(mutations_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));var ADD_FRIEND=graphql_tag_src_default()(mutations_templateObject3||(mutations_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addFriend($id: ID!) {\\n    addFriend(friendId: $id) {\\n      _id\\n      username\\n      friendCount\\n      friends {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));var ADD_THOUGHT=graphql_tag_src_default()(mutations_templateObject4||(mutations_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addThought($thoughtText: String!) {\\n    addThought(thoughtText: $thoughtText) {\\n      _id\\n      thoughtText\\n      createdAt\\n      username\\n      reactionCount\\n      reactions {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_REACTION=graphql_tag_src_default()(mutations_templateObject5||(mutations_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addReaction($thoughtId: ID!, $reactionBody: String!) {\\n    addReaction(thoughtId: $thoughtId, reactionBody: $reactionBody) {\\n      _id\\n      reactionCount\\n      reactions {\\n        _id\\n        reactionBody\\n        createdAt\\n        username\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/components/ThoughtForm/index.js\nvar ThoughtForm_ThoughtForm=function ThoughtForm(){var _useMutation=Object(client[\"useMutation\"])(ADD_THOUGHT,{update:function update(cache,_ref){var addThought=_ref.data.addThought;try{// could potentially not exist yet, so wrap in a try...catch\nvar _cache$readQuery=cache.readQuery({query:QUERY_THOUGHTS}),thoughts=_cache$readQuery.thoughts;cache.writeQuery({query:QUERY_THOUGHTS,data:{thoughts:[addThought].concat(Object(toConsumableArray[\"a\" /* default */])(thoughts))}});}catch(e){console.error(e);}// update me object's cache, appending new thought to the end of the array\nvar _cache$readQuery2=cache.readQuery({query:QUERY_ME}),me=_cache$readQuery2.me;cache.writeQuery({query:QUERY_ME,data:{me:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},me),{},{thoughts:[].concat(Object(toConsumableArray[\"a\" /* default */])(me.thoughts),[addThought])})}});}}),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addThought=_useMutation2[0],error=_useMutation2[1].error;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),thoughtText=_useState2[0],setText=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),characterCount=_useState4[0],setCharacterCount=_useState4[1];var handleChange=function handleChange(event){if(event.target.value.length<=280){setText(event.target.value);setCharacterCount(event.target.value.length);}};var handleFormSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addThought({variables:{thoughtText:thoughtText}});case 4:// clear form value\nsetText('');setCharacterCount(0);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"m-0 \".concat(characterCount===280||error?'text-error':''),children:[\"Character Count: \",characterCount,\"/280\",error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"ml-2\",children:\"Something went wrong...\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"flex-row justify-center justify-space-between-md align-stretch\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Here's a new thought...\",value:thoughtText,className:\"form-input col-12 col-md-9\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn col-12 col-md-3\",type:\"submit\",children:\"Submit\"})]})]});};/* harmony default export */ var components_ThoughtForm = (ThoughtForm_ThoughtForm);\n// CONCATENATED MODULE: ./src/components/ThoughtList/index.js\nvar ThoughtList_ThoughtList=function ThoughtList(_ref){var thoughts=_ref.thoughts,title=_ref.title;if(!thoughts.length){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"No Thoughts Yet\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:title}),thoughts&&thoughts.map(function(thought){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"card-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile/\".concat(thought.username),style:{fontWeight:700},className:\"text-light\",children:thought.username}),' ',\"thought on \",thought.createdAt]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/thought/\".concat(thought._id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:thought.thoughtText}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"mb-0\",children:[\"Reactions: \",thought.reactionCount,\" || Click to\",' ',thought.reactionCount?'see':'start',\" the discussion!\"]})]})})]},thought._id);})]});};/* harmony default export */ var components_ThoughtList = (ThoughtList_ThoughtList);\n// CONCATENATED MODULE: ./src/components/FriendList/index.js\nvar FriendList_FriendList=function FriendList(_ref){var friendCount=_ref.friendCount,username=_ref.username,friends=_ref.friends;if(!friends||!friends.length){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"bg-dark text-light p-3\",children:[username,\", make some friends!\"]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h5\",{children:[username,\"'s \",friendCount,\" \",friendCount===1?'friend':'friends']}),friends.map(function(friend){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100 display-block mb-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile/\".concat(friend.username),children:friend.username})},friend._id);})]});};/* harmony default export */ var components_FriendList = (FriendList_FriendList);\n// CONCATENATED MODULE: ./src/pages/Home.js\nvar Home_Home=function Home(){var _useQuery=Object(client[\"useQuery\"])(QUERY_THOUGHTS),loading=_useQuery.loading,data=_useQuery.data;// use object destructuring to extract `data` from the `useQuery` Hook's response and rename it `userData` to be more descriptive\nvar _useQuery2=Object(client[\"useQuery\"])(QUERY_ME_BASIC),userData=_useQuery2.data;var thoughts=(data===null||data===void 0?void 0:data.thoughts)||[];var loggedIn=auth.loggedIn();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row justify-space-between\",children:[loggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ThoughtForm,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 mb-3 \".concat(loggedIn&&'col-lg-8'),children:loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ThoughtList,{thoughts:thoughts,title:\"Some Feed for Thought(s)...\"})}),loggedIn&&userData?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-lg-3 mb-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_FriendList,{username:userData.me.username,friendCount:userData.me.friendCount,friends:userData.me.friends})}):null]})});};/* harmony default export */ var pages_Home = (Home_Home);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(41);\n\n// CONCATENATED MODULE: ./src/pages/Login.js\nvar Login_Login=function Login(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(client[\"useMutation\"])(LOGIN_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;// update state based on form input changes\nvar handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};// submit form\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _yield$login,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:Object(objectSpread2[\"a\" /* default */])({},formState)});case 4:_yield$login=_context.sent;data=_yield$login.data;auth.login(data.login.token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:\"flex-row justify-center mb-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"card-header\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",placeholder:\"Your email\",name:\"email\",type:\"email\",id:\"email\",value:formState.email,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",placeholder:\"******\",name:\"password\",type:\"password\",id:\"password\",value:formState.password,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn d-block w-100\",type:\"submit\",children:\"Submit\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Login failed\"})]})]})})});};/* harmony default export */ var pages_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/pages/NoMatch.js\nvar NoMatch_NoMatch=function NoMatch(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Oops, we couldn't find that page.\"});};/* harmony default export */ var pages_NoMatch = (NoMatch_NoMatch);\n// CONCATENATED MODULE: ./src/components/ReactionList/index.js\nvar ReactionList_ReactionList=function ReactionList(_ref){var reactions=_ref.reactions;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text-light\",children:\"Reactions\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-body\",children:reactions&&reactions.map(function(reaction){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"pill mb-3\",children:[reaction.reactionBody,\" \",'// ',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile/\".concat(reaction.username),style:{fontWeight:700},children:[reaction.username,\" on \",reaction.createdAt]})]},reaction._id);})})]});};/* harmony default export */ var components_ReactionList = (ReactionList_ReactionList);\n// CONCATENATED MODULE: ./src/components/ReactionForm/index.js\nvar ReactionForm_ReactionForm=function ReactionForm(_ref){var thoughtId=_ref.thoughtId;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),reactionBody=_useState2[0],setBody=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),characterCount=_useState4[0],setCharacterCount=_useState4[1];var _useMutation=Object(client[\"useMutation\"])(ADD_REACTION),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addReaction=_useMutation2[0],error=_useMutation2[1].error;// update state based on form input changes\nvar handleChange=function handleChange(event){if(event.target.value.length<=280){setBody(event.target.value);setCharacterCount(event.target.value.length);}};// submit form\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addReaction({variables:{reactionBody:reactionBody,thoughtId:thoughtId}});case 4:// clear form value\nsetBody('');setCharacterCount(0);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"m-0 \".concat(characterCount===280||error?'text-error':''),children:[\"Character Count: \",characterCount,\"/280\",error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"ml-2\",children:\"Something went wrong...\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"flex-row justify-center justify-space-between-md align-stretch\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Leave a reaction to this thought...\",value:reactionBody,className:\"form-input col-12 col-md-9\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn col-12 col-md-3\",type:\"submit\",children:\"Submit\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Something went wrong...\"})]});};/* harmony default export */ var components_ReactionForm = (ReactionForm_ReactionForm);\n// CONCATENATED MODULE: ./src/pages/SingleThought.js\nvar SingleThought_SingleThought=function SingleThought(props){var _useParams=Object(react_router[\"g\" /* useParams */])(),thoughtId=_useParams.id;var _useQuery=Object(client[\"useQuery\"])(QUERY_THOUGHT,{variables:{id:thoughtId}}),loading=_useQuery.loading,data=_useQuery.data;var thought=(data===null||data===void 0?void 0:data.thought)||{};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});}console.log(thoughtId);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"card-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontWeight:700},className:\"text-light\",children:thought.username}),' ',\"thought on \",thought.createdAt]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:thought.thoughtText})})]}),thought.reactionCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ReactionList,{reactions:thought.reactions}),auth.loggedIn()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ReactionForm,{thoughtId:thought._id})]});};/* harmony default export */ var pages_SingleThought = (SingleThought_SingleThought);\n// CONCATENATED MODULE: ./src/pages/Profile.js\nvar Profile_Profile=function Profile(){var _useParams=Object(react_router[\"g\" /* useParams */])(),userParam=_useParams.username;var _useMutation=Object(client[\"useMutation\"])(ADD_FRIEND),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addFriend=_useMutation2[0];var _useQuery=Object(client[\"useQuery\"])(userParam?QUERY_USER:QUERY_ME,{variables:{username:userParam}}),loading=_useQuery.loading,data=_useQuery.data;var user=(data===null||data===void 0?void 0:data.me)||(data===null||data===void 0?void 0:data.user)||{};// redirect to personal profile page if username is the logged-in user's\nif(auth.loggedIn()&&auth.getProfile().data.username===userParam){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/profile\"});}if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});}if(!(user===null||user===void 0?void 0:user.username)){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"You need to be logged in to see this page. Use the navigation links above to sign up or log in!\"});}var handleClick=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return addFriend({variables:{id:user._id}});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{className:\"bg-dark text-secondary p-3 display-inline-block\",children:[\"Viewing \",userParam?\"\".concat(user.username,\"'s\"):'your',\" profile.\"]}),userParam&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn ml-auto\",onClick:handleClick,children:\"Add Friend\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row justify-space-between mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 mb-3 col-lg-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ThoughtList,{thoughts:user.thoughts,title:\"\".concat(user.username,\"'s thoughts...\")})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-lg-3 mb-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_FriendList,{username:user.username,friendCount:user.friendCount,friends:user.friends})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mb-3\",children:!userParam&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ThoughtForm,{})})]});};/* harmony default export */ var pages_Profile = (Profile_Profile);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nvar Signup_Signup=function Signup(){var _useState=Object(react[\"useState\"])({username:'',email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(client[\"useMutation\"])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addUser=_useMutation2[0],error=_useMutation2[1].error;// update state based on form input changes\nvar handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};// submit form (notice the async!)\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _yield$addUser,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// use try/catch instead of promises to handle errors\n_context.prev=1;_context.next=4;return addUser({variables:Object(objectSpread2[\"a\" /* default */])({},formState)});case 4:_yield$addUser=_context.sent;data=_yield$addUser.data;auth.login(data.addUser.token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:\"flex-row justify-center mb-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"card-header\",children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",placeholder:\"Your username\",name:\"username\",type:\"username\",id:\"username\",value:formState.username,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",placeholder:\"Your email\",name:\"email\",type:\"email\",id:\"email\",value:formState.email,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",placeholder:\"******\",name:\"password\",type:\"password\",id:\"password\",value:formState.password,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn d-block w-100\",type:\"submit\",children:\"Submit\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Sign up failed\"})]})]})})});};/* harmony default export */ var pages_Signup = (Signup_Signup);\n// CONCATENATED MODULE: ./src/App.js\nvar App_client=new bundle_esm[\"a\" /* default */]({request:function request(operation){var token=localStorage.getItem('id_token');operation.setContext({headers:{authorization:token?\"Bearer \".concat(token):''}});},uri:'/graphql'});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(client[\"ApolloProvider\"],{client:App_client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-column justify-flex-start min-100-vh\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",component:pages_Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",component:pages_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/signup\",component:pages_Signup}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/profile/:username?\",component:pages_Profile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/thought/:id\",component:pages_SingleThought}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{component:pages_NoMatch})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Footer,{})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nregister();\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[108,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/utils/auth.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/Header/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/Footer/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/utils/queries.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/utils/mutations.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/ThoughtForm/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/ThoughtList/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/FriendList/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/pages/Home.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/pages/Login.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/pages/NoMatch.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/ReactionList/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/components/ReactionForm/index.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/pages/SingleThought.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/pages/Profile.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/pages/Signup.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/App.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/serviceWorker.js","C:/Users/AYOUB/Desktop/challenges/mern-21/deep-thoughts/client/src/index.js","C:\\Users\\AYOUB\\Desktop\\challenges\\mern-21\\deep-thoughts\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\AYOUB\\Desktop\\challenges\\mern-21\\deep-thoughts\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\AYOUB\\Desktop\\challenges\\mern-21\\deep-thoughts\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\AYOUB\\Desktop\\challenges\\mern-21\\deep-thoughts\\client\\src\\index.css"],"names":["AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","Header","logout","event","preventDefault","Auth","loggedIn","Footer","QUERY_THOUGHTS","gql","QUERY_THOUGHT","QUERY_USER","QUERY_ME","QUERY_ME_BASIC","LOGIN_USER","ADD_USER","ADD_FRIEND","ADD_THOUGHT","ADD_REACTION","ThoughtForm","useMutation","update","cache","addThought","data","readQuery","query","thoughts","writeQuery","e","console","error","me","useState","thoughtText","setText","characterCount","setCharacterCount","handleChange","target","value","length","handleFormSubmit","variables","ThoughtList","title","map","thought","username","fontWeight","createdAt","_id","reactionCount","FriendList","friendCount","friends","friend","Home","useQuery","loading","userData","Login","props","email","password","formState","setFormState","login","name","NoMatch","ReactionList","reactions","reaction","reactionBody","ReactionForm","thoughtId","setBody","addReaction","SingleThought","useParams","id","log","Profile","userParam","addFriend","user","getProfile","handleClick","Signup","addUser","client","ApolloClient","request","operation","setContext","headers","authorization","uri","App","isLocalhost","Boolean","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","then","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","fetch","response","contentType","get","status","indexOf","unregister","reload","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n    // retrieve data saved in token\r\n    getProfile() {\r\n      return decode(this.getToken());\r\n    }\r\n  \r\n    // check if the user is still logged in\r\n    loggedIn() {\r\n      // Checks if there is a saved token and it's still valid\r\n      const token = this.getToken();\r\n      // use type coersion to check if token is NOT undefined and the token is NOT expired\r\n      return !!token && !this.isTokenExpired(token);\r\n    }\r\n  \r\n    // check if the token has expired\r\n    isTokenExpired(token) {\r\n      try {\r\n        const decoded = decode(token);\r\n        if (decoded.exp < Date.now() / 1000) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      } catch (err) {\r\n        return false;\r\n      }\r\n    }\r\n  \r\n    // retrieve token from localStorage\r\n    getToken() {\r\n      // Retrieves the user token from localStorage\r\n      return localStorage.getItem('id_token');\r\n    }\r\n  \r\n    // set token to localStorage and reload page to homepage\r\n    login(idToken) {\r\n      // Saves user token to localStorage\r\n      localStorage.setItem('id_token', idToken);\r\n  \r\n      window.location.assign('/');\r\n    }\r\n  \r\n    // clear token from localStorage and force logout with reload\r\n    logout() {\r\n      // Clear user token and profile data from localStorage\r\n      localStorage.removeItem('id_token');\r\n      // this will reload the page and reset the state of the application\r\n      window.location.assign('/');\r\n    }\r\n  }\r\n\r\nexport default new AuthService();","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Auth from '../../utils/auth';\r\n\r\nconst Header = () => {\r\n  const logout = event => {\r\n    event.preventDefault();\r\n    Auth.logout();\r\n  };\r\n  return (\r\n    <header className=\"bg-secondary mb-4 py-2 flex-row align-center\">\r\n      <div className=\"container flex-row justify-space-between-lg justify-center align-center\">\r\n        <Link to=\"/\">\r\n          <h1>Deep Thoughts</h1>\r\n        </Link>\r\n\r\n     <nav className=\"text-center\">\r\n         {Auth.loggedIn() ? (\r\n         <>\r\n         <Link to=\"/profile\">Me</Link>\r\n         <a href=\"/\" onClick={logout}>\r\n           Logout\r\n         </a>\r\n        </>\r\n        ) : (\r\n        <>\r\n        <Link to=\"/login\">Login</Link>\r\n        <Link to=\"/signup\">Signup</Link>\r\n        </>\r\n        )}\r\n    </nav>\r\n\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"w-100 mt-auto bg-secondary p-4\">\r\n      <div className=\"container\">&copy;2020 by Lernantino</div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import gql from 'graphql-tag';\r\n\r\nexport const QUERY_THOUGHTS = gql`\r\n  query thoughts($username: String) {\r\n    thoughts(username: $username) {\r\n      _id\r\n      thoughtText\r\n      createdAt\r\n      username\r\n      reactionCount\r\n      reactions {\r\n        _id\r\n        createdAt\r\n        username\r\n        reactionBody\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_THOUGHT = gql`\r\n  query thought($id: ID!) {\r\n    thought(_id: $id) {\r\n      _id\r\n      thoughtText\r\n      createdAt\r\n      username\r\n      reactionCount\r\n      reactions {\r\n        _id\r\n        createdAt\r\n        username\r\n        reactionBody\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const QUERY_USER = gql`\r\n  query user($username: String!) {\r\n    user(username: $username) {\r\n      _id\r\n      username\r\n      email\r\n      friendCount\r\n      friends {\r\n        _id\r\n        username\r\n      }\r\n      thoughts {\r\n        _id\r\n        thoughtText\r\n        createdAt\r\n        reactionCount\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ME = gql`\r\n  {\r\n    me {\r\n      _id\r\n      username\r\n      email\r\n      friendCount\r\n      thoughts {\r\n        _id\r\n        thoughtText\r\n        createdAt\r\n        reactionCount\r\n        reactions {\r\n          _id\r\n          createdAt\r\n          reactionBody\r\n          username\r\n        }\r\n      }\r\n      friends {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ME_BASIC = gql`\r\n  {\r\n    me {\r\n      _id\r\n      username\r\n      email\r\n      friendCount\r\n      friends {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;","import gql from 'graphql-tag';\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($username: String!, $email: String!, $password: String!) {\r\n    addUser(username: $username, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_FRIEND = gql`\r\n  mutation addFriend($id: ID!) {\r\n    addFriend(friendId: $id) {\r\n      _id\r\n      username\r\n      friendCount\r\n      friends {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_THOUGHT = gql`\r\n  mutation addThought($thoughtText: String!) {\r\n    addThought(thoughtText: $thoughtText) {\r\n      _id\r\n      thoughtText\r\n      createdAt\r\n      username\r\n      reactionCount\r\n      reactions {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_REACTION = gql`\r\n  mutation addReaction($thoughtId: ID!, $reactionBody: String!) {\r\n    addReaction(thoughtId: $thoughtId, reactionBody: $reactionBody) {\r\n      _id\r\n      reactionCount\r\n      reactions {\r\n        _id\r\n        reactionBody\r\n        createdAt\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;","import React, { useState } from 'react';\r\n\r\nimport { QUERY_THOUGHTS, QUERY_ME  } from '../../utils/queries';\r\n\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_THOUGHT } from '../../utils/mutations';\r\n\r\nconst ThoughtForm = () => {\r\n\r\n  const [addThought, { error }] = useMutation(ADD_THOUGHT, {\r\n    update(cache, { data: { addThought } }) {\r\n      try {\r\n        // could potentially not exist yet, so wrap in a try...catch\r\n        const { thoughts } = cache.readQuery({ query: QUERY_THOUGHTS });\r\n        cache.writeQuery({\r\n          query: QUERY_THOUGHTS,\r\n          data: { thoughts: [addThought, ...thoughts] }\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n  \r\n      // update me object's cache, appending new thought to the end of the array\r\n      const { me } = cache.readQuery({ query: QUERY_ME });\r\n      cache.writeQuery({\r\n        query: QUERY_ME,\r\n        data: { me: { ...me, thoughts: [...me.thoughts, addThought] } }\r\n      });\r\n    }\r\n  });\r\n\r\n    const [thoughtText, setText] = useState('');\r\n    const [characterCount, setCharacterCount] = useState(0);\r\n    \r\n\r\n    const handleChange = event => {\r\n        if (event.target.value.length <= 280) {\r\n          setText(event.target.value);\r\n          setCharacterCount(event.target.value.length);\r\n        }\r\n      };\r\n\r\n      const handleFormSubmit = async event => {\r\n        event.preventDefault();\r\n        try {\r\n          // add thought to database\r\n          await addThought({\r\n            variables: { thoughtText }\r\n          });\r\n      \r\n          // clear form value\r\n          setText('');\r\n          setCharacterCount(0);\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      };\r\n    \r\n  return (\r\n    <div>\r\n       <p className={`m-0 ${characterCount === 280 || error ? 'text-error' : ''}`}>\r\n       Character Count: {characterCount}/280\r\n      {error && <span className=\"ml-2\">Something went wrong...</span>}\r\n      </p>\r\n      <form\r\n      className=\"flex-row justify-center justify-space-between-md align-stretch\"\r\n      onSubmit={handleFormSubmit}\r\n      >\r\n      <textarea\r\n      placeholder=\"Here's a new thought...\"\r\n      value={thoughtText}\r\n      className=\"form-input col-12 col-md-9\"\r\n      onChange={handleChange}\r\n      ></textarea>\r\n        <button className=\"btn col-12 col-md-3\" type=\"submit\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThoughtForm;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ThoughtList = ({ thoughts, title }) => {\r\n  if (!thoughts.length) {\r\n    return <h3>No Thoughts Yet</h3>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>{title}</h3>\r\n      {thoughts &&\r\n        thoughts.map(thought => (\r\n          <div key={thought._id} className=\"card mb-3\">\r\n            <p className=\"card-header\">\r\n  <Link\r\n    to={`/profile/${thought.username}`}\r\n    style={{ fontWeight: 700 }}\r\n    className=\"text-light\"\r\n  >\r\n    {thought.username}\r\n  </Link>{' '}\r\n  thought on {thought.createdAt}\r\n</p>\r\n<div className=\"card-body\">\r\n  <Link to={`/thought/${thought._id}`}>\r\n    <p>{thought.thoughtText}</p>\r\n    <p className=\"mb-0\">\r\n      Reactions: {thought.reactionCount} || Click to{' '}\r\n      {thought.reactionCount ? 'see' : 'start'} the discussion!\r\n    </p>\r\n  </Link>\r\n</div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThoughtList;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst FriendList = ({ friendCount, username, friends }) => {\r\n  if (!friends || !friends.length) {\r\n    return <p className=\"bg-dark text-light p-3\">{username}, make some friends!</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h5>\r\n        {username}'s {friendCount} {friendCount === 1 ? 'friend' : 'friends'}\r\n      </h5>\r\n      {friends.map(friend => (\r\n        <button className=\"btn w-100 display-block mb-2\" key={friend._id}>\r\n          <Link to={`/profile/${friend.username}`}>{friend.username}</Link>\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendList;","import React from 'react';\r\nimport ThoughtForm from '../components/ThoughtForm';\r\nimport ThoughtList from '../components/ThoughtList';\r\nimport FriendList from '../components/FriendList';\r\n\r\n\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { QUERY_THOUGHTS, QUERY_ME_BASIC } from '../utils/queries';\r\nimport Auth from '../utils/auth';\r\n\r\nconst Home = () => {\r\n  const { loading, data } = useQuery(QUERY_THOUGHTS);\r\n  // use object destructuring to extract `data` from the `useQuery` Hook's response and rename it `userData` to be more descriptive\r\nconst { data: userData } = useQuery(QUERY_ME_BASIC);\r\n  const thoughts = data?.thoughts || [];\r\n  const loggedIn = Auth.loggedIn();\r\n  return (\r\n    <main>  \r\n      <div className=\"flex-row justify-space-between\">\r\n        {loggedIn && (\r\n      <div className=\"col-12 mb-3\">\r\n        <ThoughtForm />\r\n      </div>\r\n    )}\r\n        <div className={`col-12 mb-3 ${loggedIn && 'col-lg-8'}`}>\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <ThoughtList thoughts={thoughts} title=\"Some Feed for Thought(s)...\" />\r\n          )}\r\n        </div>\r\n        {loggedIn && userData ? (\r\n      <div className=\"col-12 col-lg-3 mb-3\">\r\n        <FriendList\r\n         username={userData.me.username}\r\n         friendCount={userData.me.friendCount}\r\n         friends={userData.me.friends}\r\n        />\r\n      </div>\r\n        ) : null}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react';\r\nimport Auth from '../utils/auth';\r\n\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { LOGIN_USER } from '../utils/mutations';\r\nconst Login = (props) => {\r\n  const [formState, setFormState] = useState({ email: '', password: '' });\r\n  const [login, { error }] = useMutation(LOGIN_USER);\r\n\r\n  // update state based on form input changes\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n // submit form\r\nconst handleFormSubmit = async event => {\r\n  event.preventDefault();\r\n\r\n  try {\r\n    const { data } = await login({\r\n      variables: { ...formState }\r\n    });\r\n\r\n    Auth.login(data.login.token);\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\n  return (\r\n    <main className='flex-row justify-center mb-4'>\r\n      <div className='col-12 col-md-6'>\r\n        <div className='card'>\r\n          <h4 className='card-header'>Login</h4>\r\n          <div className='card-body'>\r\n            <form onSubmit={handleFormSubmit}>\r\n              <input\r\n                className='form-input'\r\n                placeholder='Your email'\r\n                name='email'\r\n                type='email'\r\n                id='email'\r\n                value={formState.email}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                className='form-input'\r\n                placeholder='******'\r\n                name='password'\r\n                type='password'\r\n                id='password'\r\n                value={formState.password}\r\n                onChange={handleChange}\r\n              />\r\n              <button className='btn d-block w-100' type='submit'>\r\n                Submit\r\n              </button>\r\n            </form>\r\n            {error && <div>Login failed</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div>\r\n      Oops, we couldn't find that page.\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ReactionList = ({ reactions }) => {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n    <div className=\"card-header\">\r\n      <span className=\"text-light\">Reactions</span>\r\n    </div>\r\n    <div className=\"card-body\">\r\n      {reactions &&\r\n        reactions.map(reaction => (\r\n          <p className=\"pill mb-3\" key={reaction._id}>\r\n            {reaction.reactionBody} {'// '}\r\n            <Link to={`/profile/${reaction.username}`} style={{ fontWeight: 700 }}>\r\n              {reaction.username} on {reaction.createdAt}\r\n            </Link>\r\n          </p>\r\n        ))}\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default ReactionList;","import React, { useState } from 'react';\r\n\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_REACTION } from '../../utils/mutations';\r\n\r\nconst ReactionForm = ({ thoughtId }) => {\r\n  const [reactionBody, setBody] = useState('');\r\n  const [characterCount, setCharacterCount] = useState(0);\r\n  const [addReaction, { error }] = useMutation(ADD_REACTION);\r\n\r\n  // update state based on form input changes\r\n  const handleChange = event => {\r\n    if (event.target.value.length <= 280) {\r\n      setBody(event.target.value);\r\n      setCharacterCount(event.target.value.length);\r\n    }\r\n  };\r\n\r\n  // submit form\r\n  const handleFormSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await addReaction({\r\n        variables: { reactionBody, thoughtId }\r\n      });\r\n\r\n      // clear form value\r\n      setBody('');\r\n      setCharacterCount(0);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p className={`m-0 ${characterCount === 280 || error ? 'text-error' : ''}`}>\r\n        Character Count: {characterCount}/280\r\n        {error && <span className=\"ml-2\">Something went wrong...</span>}\r\n      </p>\r\n      <form\r\n        className=\"flex-row justify-center justify-space-between-md align-stretch\"\r\n        onSubmit={handleFormSubmit}\r\n      >\r\n        <textarea\r\n          placeholder=\"Leave a reaction to this thought...\"\r\n          value={reactionBody}\r\n          className=\"form-input col-12 col-md-9\"\r\n          onChange={handleChange}\r\n        ></textarea>\r\n\r\n        <button className=\"btn col-12 col-md-3\" type=\"submit\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n\r\n      {error && <div>Something went wrong...</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReactionForm;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { QUERY_THOUGHT } from '../utils/queries';\r\nimport ReactionList from '../components/ReactionList';\r\nimport Auth from '../utils/auth';\r\nimport ReactionForm from '../components/ReactionForm'\r\n\r\n\r\nconst SingleThought = props => {\r\n  const { id: thoughtId } = useParams();\r\n  const { loading, data } = useQuery(QUERY_THOUGHT, {\r\n    variables: { id: thoughtId }\r\n  });\r\n  \r\n  const thought = data?.thought || {};\r\n  \r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\nconsole.log(thoughtId);\r\n  return (\r\n    <div>\r\n  <div className=\"card mb-3\">\r\n    <p className=\"card-header\">\r\n      <span style={{ fontWeight: 700 }} className=\"text-light\">\r\n        {thought.username}\r\n      </span>{' '}\r\n      thought on {thought.createdAt}\r\n    </p>\r\n    <div className=\"card-body\">\r\n      <p>{thought.thoughtText}</p>\r\n    </div>\r\n  </div>\r\n\r\n  {thought.reactionCount > 0 && <ReactionList reactions={thought.reactions} />}\r\n  {Auth.loggedIn() && <ReactionForm thoughtId={thought._id} />}\r\n</div>\r\n  );\r\n};\r\n\r\nexport default SingleThought;\r\n","import React from 'react';\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport Auth from '../utils/auth';\r\n\r\nimport { ADD_FRIEND } from '../utils/mutations';\r\nimport { useQuery, useMutation } from '@apollo/react-hooks';\r\n\r\nimport ThoughtList from '../components/ThoughtList';\r\nimport FriendList from '../components/FriendList';\r\nimport ThoughtForm from '../components/ThoughtForm';\r\n\r\nimport { QUERY_USER, QUERY_ME } from '../utils/queries';\r\n\r\nconst Profile = () => {\r\n  const { username: userParam } = useParams();\r\n\r\n  const [addFriend] = useMutation(ADD_FRIEND);\r\n\r\n  const { loading, data } = useQuery(userParam ? QUERY_USER : QUERY_ME, {\r\n    variables: { username: userParam }\r\n  });\r\n\r\n  const user = data?.me || data?.user || {};\r\n// redirect to personal profile page if username is the logged-in user's\r\nif (Auth.loggedIn() && Auth.getProfile().data.username === userParam) {\r\n  return <Redirect to=\"/profile\" />;\r\n}\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (!user?.username) {\r\n    return (\r\n      <h4>\r\n        You need to be logged in to see this page. Use the navigation links above to sign up or log in!\r\n      </h4>\r\n    );\r\n  }\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      await addFriend({\r\n        variables: { id: user._id }\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex-row mb-3\">\r\n      <h2 className=\"bg-dark text-secondary p-3 display-inline-block\">\r\n       Viewing {userParam ? `${user.username}'s` : 'your'} profile.\r\n      </h2>\r\n      {userParam && (\r\n  <button className=\"btn ml-auto\" onClick={handleClick}>\r\n    Add Friend\r\n  </button>\r\n)}\r\n      </div>\r\n\r\n      <div className=\"flex-row justify-space-between mb-3\">\r\n  <div className=\"col-12 mb-3 col-lg-8\">\r\n    <ThoughtList thoughts={user.thoughts} title={`${user.username}'s thoughts...`} />\r\n  </div>\r\n\r\n  <div className=\"col-12 col-lg-3 mb-3\">\r\n    <FriendList\r\n      username={user.username}\r\n      friendCount={user.friendCount}\r\n      friends={user.friends}\r\n    />\r\n  </div>\r\n</div>\r\n<div className=\"mb-3\">{!userParam && <ThoughtForm />}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","import React, { useState } from 'react';\r\nimport Auth from '../utils/auth';\r\n\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_USER } from '../utils/mutations';\r\n\r\nconst Signup = () => {\r\n  const [formState, setFormState] = useState({ username: '', email: '', password: '' });\r\n  const [addUser, { error }] = useMutation(ADD_USER);\r\n  // update state based on form input changes\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n// submit form (notice the async!)\r\nconst handleFormSubmit = async event => {\r\n  event.preventDefault();\r\n\r\n  // use try/catch instead of promises to handle errors\r\n  try {\r\n    // execute addUser mutation and pass in variable data from form\r\n    const { data } = await addUser({\r\n      variables: { ...formState }\r\n    });\r\n    Auth.login(data.addUser.token);\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n  return (\r\n    <main className='flex-row justify-center mb-4'>\r\n      <div className='col-12 col-md-6'>\r\n        <div className='card'>\r\n          <h4 className='card-header'>Sign Up</h4>\r\n          <div className='card-body'>\r\n            <form onSubmit={handleFormSubmit}>\r\n              <input\r\n                className='form-input'\r\n                placeholder='Your username'\r\n                name='username'\r\n                type='username'\r\n                id='username'\r\n                value={formState.username}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                className='form-input'\r\n                placeholder='Your email'\r\n                name='email'\r\n                type='email'\r\n                id='email'\r\n                value={formState.email}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                className='form-input'\r\n                placeholder='******'\r\n                name='password'\r\n                type='password'\r\n                id='password'\r\n                value={formState.password}\r\n                onChange={handleChange}\r\n              />\r\n              <button className='btn d-block w-100' type='submit'>\r\n                Submit\r\n              </button>\r\n            </form>\r\n            {error && <div>Sign up failed</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport ApolloClient from 'apollo-boost';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\n\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport NoMatch from './pages/NoMatch';\r\nimport SingleThought from './pages/SingleThought';\r\nimport Profile from './pages/Profile';\r\nimport Signup from './pages/Signup';\r\n\r\nconst client = new ApolloClient({\r\n  request: operation => {\r\n    const token = localStorage.getItem('id_token');\r\n\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer ${token}` : ''\r\n      }\r\n    });\r\n  },\r\n  uri: '/graphql'\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div className=\"flex-column justify-flex-start min-100-vh\">\r\n          <Header />\r\n          <div className=\"container\">\r\n        <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/profile/:username?\" component={Profile} />\r\n        <Route exact path=\"/thought/:id\" component={SingleThought} />  \r\n        <Route component={NoMatch} />\r\n  </Switch>\r\n</div>\r\n          <Footer />\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","// extracted by mini-css-extract-plugin"]}}